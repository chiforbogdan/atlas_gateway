[![License](https://img.shields.io/badge/license-GPL%20v3.0%20or%20later-brightgreen.svg)](https://github.com/chiforbogdan/atlas_gateway/blob/master/LICENSE)

# ATLAS IoT Security Platform - general information
ATLAS consists in a 3-tier IoT security platform which offers the following modules:
* A lightweight software client which runs on the IoT device ([ATLAS_Client])
* A gateway software which runs on the network edge and manages all the clients from the network ([ATLAS_Gateway])
* A cloud platform which allows managing the gateways and the clients ([ATLAS_Cloud])

ATLAS provides security management for a fleet of IoT devices and enables a reputation based Sensing-as-a-service platform. It also offers the capability to inspect the IoT device telemetry values and supports the CoAP lightweight protocol for the communication between the IoT device and the gateway.
On the IoT data plane layer, ATLAS provides an API which can be integrated with a user application and offers the following capabilities:
* Install a firewall rule on the gateway side
* Send packet statistics to the gateway and cloud
* Get the device with the most trusted reputation within a category and provide reputation feedback

## ATLAS_Gateway
ATLAS_Gateway is a gateway software which runs on the network edge and manages all the clients from within the network. It enables the collection of telemetry data from connected IoT nodes (that have ATLAS_Client software) and offeres a method of filtering malicious nodes through an integrated reputation-based scoring architecture.

----

### How to build it
Generally, there are two steps are involved:
* Step 1. Install required dependencies by executing the __dependencies.sh__ script from the __scripts__ folder
* Step 2. Execute the __build.sh__ script from __root__ folder

Depending on the platform you are using, minor adjustments might be necessary to be made. See the output messages shown during execution of the above mentioned scripts in case of errors.

----

### How to use it
```
./atlas_gateway --cloud <ATLAS_CLOUD_IP> --listen <ATLAS_CLIENT_LISTEN_PORT>
```

Arguments:
* __--help__ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _Display help message_
* __-c [ --cloud ]__ &nbsp;&nbsp; _IP address for the ATLAS_Cloud broker - used to connect the ATLAS_Gateway with the ATLAS_Cloud back-end_
* __-p [ --port ]__ &nbsp;&nbsp;&nbsp;&nbsp; _Port of ATLAS_Cloud back-end - used to connect the ATLAS_Gateway with the ATLAS_Cloud back-end_
* __-l [ --listen ]__ &nbsp;&nbsp;&nbsp; _Listen port number for the ATLAS_Gateway CoAP server - used to connect the ATLAS_Gateway with the ATLAS_Client instances_
* __-f [ --certFile ]__ &nbsp; _Certificate file with ATLAS_Cloud back-end identity (this file is generated by the ATLAS_Cloud component)_

Example: 
```
./atlas_gateway --cloud 127.0.0.1 -p 8883 --listen 10100 -f client.truststore.pem
```

----

### Supplementary modules
Besides the main software module mentioned above, the project will build another 3 supplementary software components: _libatlas_gateway_mosquitto_plugin.so_, _atlas_gateway_cli_ and _atlas_gateway_reputation_test_.

#### libatlas_gateway_mosquitto_plugin.so
This module integrates with the modified version of the Eclipse Mosquitto (built for the ATLAS_Gateway by the above mentioned script) and provides the means to connect to and extract data from the Eclipse Mosquitto Broker. 
It is used by starting the Mosquitto Broker through the following command:
````
mosquitto -c mosquitto-atlas.conf
````
where _mosquitto-atlas.conf_ is a configuration file present in the _build_ folder (added after running the _build.sh_ script)

#### atlas_gateway_cli
This modules enables the enrolment of ATLAS_Client instances (characterized by an <_identity_, _psk_> tuple, generated by the ATLAS_Client software module) at ATLAS_Gateway layer. At first run, this tool will create a _local.db_ database that will then be populated with data from registered ATLAS_Client instances.
It can be used as follows:
````
./atlas_gateway_cli --identity "4fa32a5a-8dff-427f-8d6d-4b7010bea7e0" --psk "ZKUTQu5244b/wvuuW23N8oaDE6Eci20o7TnYbXFcd44="
````
where _identity_ and _psk_ are the contents of _.identity_ and _.psk_ files generated by each ATLAS_Client instance.

#### atlas_gateway_reputation_test
This module provides means for independently testing the reputation-based filtering mechanism implemented in ATLAS_Gateway. It offers 7 different scenarios, each with different parameters that can be customized. For more information and how to use this tool, see this [README][Atlas_reputation] file.

----

### Authors
ATLAS Gateway was developed by:
* Bogdan-Cosmin Chifor
* Stefan-Ciprian Arseni
* Ioana Cismas
* Mihai Coca
* Mirabela Medvei

ATLAS project is sponsored by [UEFISCDI].

----

### License
GNU General Public License v3.0 or later.

See LICENSE file to read the full text.

[Atlas_client]: https://github.com/chiforbogdan/atlas_client
[Atlas_gateway]: https://github.com/chiforbogdan/atlas_gateway
[Atlas_cloud]: https://github.com/chiforbogdan/atlas_cloud
[UEFISCDI]: https://uefiscdi.gov.ro/
[Atlas_reputation]: https://github.com/chiforbogdan/atlas_gateway/blob/dev/src/reputation_impl/tester/README.md
